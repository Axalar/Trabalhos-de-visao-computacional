# Leitura de Placas Veiculares

No campo de visão computacional, um dos objetivos mais comuns é a identificação de objetos e figuras. Seja com o propósito de distinguir objetos, usar pontos de referência para calcular posições ou identificar caracteres para realizar sua leitura. Como o segundo trabalho da disciplina de Visão Computacional em Robótica BLU3040 do curso de graduação de Engenharia de Controle e Automação do Campus Blumenau da Universidade Federal de Santa Catarina, foi definido que os alunos deveriam desenvolver uma função que recebe uma imagem como entrada e realiza a leitura de uma placa veicular presente na imagem.

Este conjunto de funções é o resultado deste trabalho. Elas foram elaboradas para localizar, isolar, corrigir perspectiva e ler placas de veículos no padrão brasileiro em imagens. Estas funções realizam isso por processamento de *features* de região, aplicação de princípios geométricos e comparação de *templates*. O desenvolvimento destas funções fez uso da [*toolbox* de visão computacional](http://petercorke.com/wordpress/toolboxes/machine-vision-toolbox) desenvolvida por Peter Corke. Também foi usada a função [INTERX](https://www.mathworks.com/matlabcentral/fileexchange/22441-curve-intersections) desenvolvida por NS.

# Princípio de Funcionamento

Primeiramente as funções buscam localizar a posição da placa em meio a imagem. Elas realizam isso se aproveitando de características do padrão das placas veiculares brasileiras, buscando por 7 regiões que apresentam características semelhantes, especificamente as letras e números da placa. Após encontrar a posição das letras, princípios geométricos como o ponto de fuga da perspectiva da imagem são usados para estimar as bordas da placa e suas quinas. Com as quinas localizadas as funções calculam a homografia para correção da perspectiva da placa e então isolam a placa do resto da imagem. Por fim as funções analisam duas regiões específicas da placa para localizar cada caracter da placa individualmente e identificá-los por meio de comparação com templates. Ao término desse processo as funções retornam como saída quatro strings, que representam respectivamente o estado da placa, o nome do município, as letras da placa e os números da placa.

# Limitações

Em seu estado atual, o conjunto de funções apresenta algumas limitações quanto ao seu funcionamento. Começando com as imagens de entrada, estas devem conter apenas uma placa veicular, que esteja completamente visível e que não apresente outros objetos com características similares à uma placa veicular. O algoritmo também não é capaz de identificar placas de motocicleta em seu estado atual. Outra limitação diz respeito à definição da imagem. Se a definição da imagem for muito baixa e a área da placa for pequena, alguns caracteres podem ser descaracterizados após a correção de perspectiva, o que causa problemas na comparação com templates e gera resultados incorretos.

# Como utilizar as funções

Para fazer o uso destas funções é necessário ter a [*toolbox*](http://petercorke.com/wordpress/toolboxes/machine-vision-toolbox) mencionada anteriormente instalada. Na *toolbox* será preciso substituir as aspas duplas ```”``` por aspas simples ```’```, caso contrário algumas funções como a ```iread``` não funcionarão. A pasta de templates deve estar na mesma no mesmo diretório que as funções e as imagens usadas como templates e seus nomes não devem ser alterados. A entrada da função ```readPlate``` é uma imagem em formato matricial do tipo uint8 ou double.
